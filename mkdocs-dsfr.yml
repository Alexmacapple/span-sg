# Configuration DSFR POC - Test compatibilité mkdocs-dsfr
# Date: 2025-10-07
# Phase: POC Phase 1 (S7-01)
# Basé sur: mkdocs.yml (Material)

site_name: ""
site_url: https://alexmacapple.github.io/span-sg/
strict: true

# Configuration dépôt (requis pour bouton Éditer)
repo_url: https://github.com/Alexmacapple/span-sg
edit_uri: blob/main/docs/

theme:
  name: dsfr
  language: fr  # Note: Doc officielle dit "locale" mais génère warning. "language" fonctionne.

  # Configuration par défaut DSFR
  include_search_page: true
  afficher_date_de_revision: false
  afficher_menu_lateral: true
  afficher_sommaire: true  # Réactivé avec hook fix_sidemenu_ids.py pour corriger les IDs
  afficher_bouton_editer: true
  libelle_bouton_editer: "Éditer dans GitHub"
  bouton_hautdepage: right

  # Intitulé République Française
  intitule: "GOUVERNEMENT"

  # Configuration header DSFR
  header:
    titre: "SPAN SG"
    sous_titre: "Schéma Pluriannuel d'Accessibilité Numérique - Secrétariat Général"
    # Note: liens_rapides non supporté dans mkdocs-dsfr 0.17.0 (ignoré silencieusement)

  # Configuration footer DSFR
  footer:
    description: "Schéma Pluriannuel d'Accessibilité Numérique du Secrétariat Général - Ministère de l'Économie des Finances et de la Souveraineté industrielle et énergétique"
    links:
      - name: legifrance.gouv.fr
        url: https://legifrance.gouv.fr
      - name: service-public.fr
        url: https://service-public.fr
      - name: data.gouv.fr
        url: https://data.gouv.fr
      - name: info.gouv.fr
        url: https://info.gouv.fr
    # Liens footer bottom (RGAA 4.1 désactivé)
    # bottom_links:

plugins:
  - search:
      lang: fr
  # - git-revision-date-localized:
  #     enable_creation_date: false
  - open-in-new-tab

nav:
  - Accueil: accueil.md
  - SPAN (SG): span-sg.md
  - SPAN par direction du SG:
    - BGS: modules/bgs.md
    - SAFI: modules/safi.md
    - SIEP: modules/siep.md
    - SIRCOM: modules/sircom.md
    - SNUM: modules/snum.md
    - SRH: modules/srh.md
  - Synthèse: synthese.md
  - Processus: processus.md
  - Guide d'accompagnement: accompagnement.md
  - Téléchargement PDF: telechargement-pdf.md

hooks:
  - hooks/dsfr_table_wrapper.py
  - hooks/title_cleaner.py
  - hooks/pdf_copy.py
  - hooks/card_heading_level.py
  - hooks/search_input_label.py
  - hooks/pagination_title.py
  - hooks/fix_sidemenu_ids.py

extra_javascript:
  - assets/extra.js

extra_css:
  - assets/custom.css

markdown_extensions:
  - dsfr_structure.extension.all_extensions
  - pymdownx.snippets
  - pymdownx.tasklist:
      custom_checkbox: true
      clickable_checkbox: true
  - pymdownx.highlight:
      use_pygments: true
  - pymdownx.emoji:
      options:
        attributes:
          align: absmiddle
          height: 20px
          width: 20px
  - pymdownx.superfences:
      custom_fences:
        - name: mermaid
          class: mermaid
          format: !!python/name:pymdownx.superfences.fence_code_format
  - toc:
      permalink: false
      toc_depth: 3
  - attr_list
  - def_list
  - tables
  - md_in_html
