<!DOCTYPE html>

<html class="writer-html5" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="IE=edge" http-equiv="X-UA-Compatible"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/><link href="https://alexmacapple.github.io/span-sg/dev/dsfr-components-guide/" rel="canonical"/>
<link href="../../img/favicon.ico" rel="shortcut icon"/>
<title>Guide d'utilisation des composants DSFR</title>
<link href="../../css/theme.css" rel="stylesheet"/>
<link href="../../css/theme_extra.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" rel="stylesheet"/>
<script>
        // Current page data
        var mkdocs_page_name = "Guide d\u0027utilisation des composants DSFR";
        var mkdocs_page_input_path = "dev/dsfr-components-guide.md";
        var mkdocs_page_url = "/span-sg/dev/dsfr-components-guide/";
      </script>
<!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>
<link href="../../../exports/span-sg.pdf" rel="alternate" title="PDF" type="application/pdf"/></head>
<body class="wy-body-for-nav" role="document">
<div class="wy-grid-for-nav">
<nav class="wy-nav-side stickynav" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a class="icon icon-home" href="../..">
</a><div role="search">
<form action="../../search.html" class="wy-form" id="rtd-search-form" method="get">
<input aria-label="Search docs" name="q" placeholder="Search docs" title="Type search term here" type="text"/>
</form>
</div>
</div>
<div aria-label="Navigation menu" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<ul>
<li class="toctree-l1"><a class="reference internal" href="../..">SPAN (SG)</a>
</li>
</ul>
<p class="caption"><span class="caption-text">SPAN (services)</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../modules/bgs/">BGS</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../modules/safi/">SAFI</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../modules/siep/">SIEP</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../modules/sircom/">SIRCOM</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../modules/snum/">SNUM</a>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../modules/srh/">SRH</a>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../synthese/">Synthèse</a>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../processus/">Processus</a>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/">Guide contributeur</a>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../dev-local/">Développement local</a>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="" href="https://github.com/Alexmacapple/span-sg">Code source GitHub</a>
</li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift">
<nav aria-label="Mobile navigation menu" class="wy-nav-top" role="navigation">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="../.."></a>
</nav>
<div class="wy-nav-content">
<div class="rst-content"><div aria-label="breadcrumbs navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a aria-label="Docs" class="icon icon-home" href="../.."></a></li>
<li class="breadcrumb-item active">Guide d'utilisation des composants DSFR</li>
<li class="wy-breadcrumbs-aside">
<a class="icon icon-github" href="https://github.com/Alexmacapple/span-sg/edit/master/docs/dev/dsfr-components-guide.md"> Edit on GitHub</a>
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div class="section" itemprop="articleBody">
<h1 id="guide-dutilisation-des-composants-dsfr">Guide d'utilisation des composants DSFR</h1>
<p>Ce guide documente l'utilisation des composants du Système de Design de l'État (DSFR) dans le projet SPAN SG avec le thème mkdocs-dsfr v0.17.0.</p>
<p>Version: 1.0.0
Date: 2025-10-14
Auteur: Équipe technique SPAN SG</p>
<hr/>
<h2 id="table-des-matieres">Table des matières</h2>
<ol>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#cards-cartes-de-navigation">Cards - Cartes de navigation</a></li>
<li><a href="#callouts-encadres-informatifs">Callouts - Encadrés informatifs</a></li>
<li><a href="#badges-indicateurs-detat">Badges - Indicateurs d'état</a></li>
<li><a href="#alerts-notifications">Alerts - Notifications</a></li>
<li><a href="#grid-grilles-responsives">Grid - Grilles responsives</a></li>
<li><a href="#tables-tableaux-accessibles">Tables - Tableaux accessibles</a></li>
<li><a href="#accordions-accordeons-pliables">Accordions - Accordéons pliables</a></li>
<li><a href="#tabs-onglets">Tabs - Onglets</a></li>
<li><a href="#snippets-reutilisables">Snippets réutilisables</a></li>
</ol>
<hr/>
<h2 id="introduction">Introduction</h2>
<p>Le thème mkdocs-dsfr utilise l'extension <code>dsfr_structure.extension.all_extensions</code> qui permet d'écrire des composants DSFR en syntaxe Markdown simplifiée.</p>
<h3 id="reference-officielle">Référence officielle</h3>
<ul>
<li><strong>Documentation DSFR</strong> : https://www.systeme-de-design.gouv.fr/</li>
<li><strong>mkdocs-dsfr</strong> : https://pub.gitlab-pages.din.developpement-durable.gouv.fr/numeco/mkdocs-dsfr-doc/</li>
<li><strong>Composants disponibles</strong> : Cards, Callouts, Badges, Alerts, Grid, Accordions, Tabs, etc.</li>
</ul>
<h3 id="configuration-requise">Configuration requise</h3>
<p>Dans <code>mkdocs-dsfr.yml</code> :</p>
<pre><code class="language-yaml">markdown_extensions:
  - dsfr_structure.extension.all_extensions  # Active tous composants DSFR
  - pymdownx.superfences  # Support syntaxe ///
  - attr_list  # Support attributs HTML
  - def_list   # Support listes définitions
</code></pre>
<hr/>
<h2 id="cards-cartes-de-navigation">Cards - Cartes de navigation</h2>
<p>Les cards DSFR sont utilisées pour créer des cartes de navigation visuelles avec badges et liens.</p>
<h3 id="syntaxe-de-base">Syntaxe de base</h3>
<pre><code class="language-markdown">/// card | Titre de la card
    target: chemin/vers/page.md
    badge: Texte badge | type
Description de la card affichée en bas
///
</code></pre>
<h3 id="parametres">Paramètres</h3>
<table>
<thead>
<tr>
<th>Paramètre</th>
<th>Obligatoire</th>
<th>Description</th>
<th>Exemple</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>title</code></td>
<td>Oui</td>
<td>Titre (1ère ligne après <code>card</code>)</td>
<td><code>SIRCOM</code></td>
</tr>
<tr>
<td><code>target</code></td>
<td>Oui</td>
<td>Lien destination</td>
<td><code>modules/sircom.md</code></td>
</tr>
<tr>
<td><code>badge</code></td>
<td>Non</td>
<td>Badge avec type</td>
<td><code>Validé \| success</code></td>
</tr>
<tr>
<td><code>description</code></td>
<td>Non</td>
<td>Texte explicatif</td>
<td>Service de la Communication</td>
</tr>
</tbody>
</table>
<h3 id="types-de-badges">Types de badges</h3>
<ul>
<li><code>success</code> : Vert (validé, conforme)</li>
<li><code>warning</code> : Orange (brouillon, en cours)</li>
<li><code>error</code> : Rouge (bloqué, non conforme)</li>
<li><code>info</code> : Bleu (information)</li>
</ul>
<h3 id="exemple-complet-docsindexmd125-129">Exemple complet (docs/index.md:125-129)</h3>
<pre><code class="language-markdown">/// card | SIRCOM
    target: modules/sircom.md
    badge: Validé | success
Service de la Communication - Portails ministériels, sites internet/intranet
///
</code></pre>
<h3 id="rendu-html-genere">Rendu HTML généré</h3>
<pre><code class="language-html">&lt;div class="fr-card fr-enlarge-link" id="card-0"&gt;
  &lt;div class="fr-card__body"&gt;
    &lt;div class="fr-card__content"&gt;
      &lt;h5 class="fr-card__title" id="sircom"&gt;
        &lt;a href="modules/sircom/"&gt;SIRCOM&lt;/a&gt;
      &lt;/h5&gt;
      &lt;div class="fr-card__start"&gt;
        &lt;p class="fr-badge fr-badge--success"&gt;Validé&lt;/p&gt;
      &lt;/div&gt;
      &lt;div class="fr-card__end"&gt;
        &lt;p class="fr-card__detail"&gt;Service de la Communication...&lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<h3 id="cas-dusage">Cas d'usage</h3>
<p>Navigation homepage vers modules de services (docs/index.md:119-167)</p>
<hr/>
<h2 id="callouts-encadres-informatifs">Callouts - Encadrés informatifs</h2>
<p>Les callouts sont des encadrés visuels pour mettre en avant des informations importantes.</p>
<h3 id="syntaxe-de-base_1">Syntaxe de base</h3>
<pre><code class="language-markdown">/// callout | Titre du callout
    icon: nom-icon-remixicon
    color: couleur-dsfr
    link_label: Texte lien
    link_url: https://example.com
Contenu du callout en Markdown
///
</code></pre>
<h3 id="parametres_1">Paramètres</h3>
<table>
<thead>
<tr>
<th>Paramètre</th>
<th>Obligatoire</th>
<th>Description</th>
<th>Exemple</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>title</code></td>
<td>Oui</td>
<td>Titre</td>
<td><code>Besoin d'aide ?</code></td>
</tr>
<tr>
<td><code>icon</code></td>
<td>Non</td>
<td>Icône Remix Icon</td>
<td><code>question-line</code></td>
</tr>
<tr>
<td><code>color</code></td>
<td>Non</td>
<td>Couleur DSFR</td>
<td><code>blue-france</code></td>
</tr>
<tr>
<td><code>link_label</code></td>
<td>Non</td>
<td>Texte bouton</td>
<td><code>En savoir plus</code></td>
</tr>
<tr>
<td><code>link_url</code></td>
<td>Non</td>
<td>URL bouton</td>
<td><code>https://...</code></td>
</tr>
</tbody>
</table>
<h3 id="couleurs-dsfr-disponibles">Couleurs DSFR disponibles</h3>
<ul>
<li><code>blue-france</code> : Bleu France (défaut, informatif)</li>
<li><code>orange-terre-battue</code> : Orange (alerte, attention)</li>
<li><code>green-menthe</code> : Vert menthe (positif, financement)</li>
<li><code>red-marianne</code> : Rouge (critique, urgent)</li>
<li><code>purple-glycine</code> : Violet (spécial)</li>
</ul>
<h3 id="icones-remix-icon">Icônes Remix Icon</h3>
<p>Liste complète : https://remixicon.com/</p>
<p>Exemples courants :
- <code>question-line</code> : Point d'interrogation
- <code>alert-line</code> : Triangle alerte
- <code>money-euro-circle-line</code> : Euro (financement)
- <code>building-line</code> : Bâtiment
- <code>user-line</code> : Utilisateur</p>
<h3 id="exemple-1-callout-informatif-docsaccompagnementmd">Exemple 1 : Callout informatif (docs/accompagnement.md)</h3>
<pre><code class="language-markdown">/// callout | Besoin d'aide ?
    icon: question-line
    color: blue-france
    link_label: Contacter la MiWeb
    link_url: mailto:accessibilite.miweb@finances.gouv.fr
La MiWeb accompagne les référents de service dans la complétion de leur SPAN.
///
</code></pre>
<h3 id="exemple-2-callout-alerte-docsprocessusmd92-96">Exemple 2 : Callout alerte (docs/processus.md:92-96)</h3>
<pre><code class="language-markdown">/// callout | Actions critiques pour le succès
    icon: alert-line
    color: orange-terre-battue
Ces 6 actions préalables conditionnent la réussite de votre SPAN. Ne pas les réaliser expose à l'échec du projet, à des sanctions financières (jusqu'à 75K€/site) et à un risque réputationnel important.
///
</code></pre>
<h3 id="exemple-3-callout-financement-docsprocessusmd99-104">Exemple 3 : Callout financement (docs/processus.md:99-104)</h3>
<pre><code class="language-markdown">/// callout | Financement FIPHFP disponible
    icon: money-euro-circle-line
    color: green-menthe
    link_label: En savoir plus sur le FIPHFP
    link_url: https://www.fiphfp.fr/
Le FIPHFP peut financer jusqu'à 10 000€ par an pendant 3 ans (30 000€ total) pour vos actions d'accessibilité : formations, audits RGAA, outils spécialisés.
///
</code></pre>
<h3 id="exemple-4-callout-critique-exemple">Exemple 4 : Callout critique (exemple)</h3>
<pre><code class="language-markdown">/// callout | Échéance légale imminente
    icon: time-line
    color: red-marianne
    link_label: Voir le calendrier
    link_url: /processus/#calendrier
Tous les services publics doivent publier leur SPAN avant le 31 décembre 2025 sous peine de sanctions Arcom.
///
</code></pre>
<h3 id="difference-avec-alerts">Différence avec Alerts</h3>
<table>
<thead>
<tr>
<th>Callouts</th>
<th>Alerts</th>
</tr>
</thead>
<tbody>
<tr>
<td>Contenu éditorial</td>
<td>Messages système</td>
</tr>
<tr>
<td>Personnalisables (icon, color)</td>
<td>Types fixes (info, warning, error)</td>
</tr>
<tr>
<td>Peuvent avoir bouton CTA</td>
<td>Pas de bouton</td>
</tr>
<tr>
<td>Usage : mise en avant contenu</td>
<td>Usage : notifications utilisateur</td>
</tr>
</tbody>
</table>
<hr/>
<h2 id="badges-indicateurs-detat">Badges - Indicateurs d'état</h2>
<p>Les badges DSFR sont utilisés pour indiquer l'état ou le statut d'un élément.</p>
<h3 id="pourquoi-html-au-lieu-de-markdown">Pourquoi HTML au lieu de Markdown ?</h3>
<p><strong>Contexte (ADR-002)</strong> : La syntaxe Markdown <code>/// badge</code> ne fonctionne pas dans les tableaux HTML. Le projet utilise donc la syntaxe HTML DSFR native pour les badges dans les tableaux.</p>
<h3 id="syntaxe-html-dsfr">Syntaxe HTML DSFR</h3>
<pre><code class="language-html">&lt;p class="fr-badge fr-badge--{type}"&gt;{Texte}&lt;/p&gt;
</code></pre>
<h3 id="types-de-badges_1">Types de badges</h3>
<table>
<thead>
<tr>
<th>Type</th>
<th>Classe CSS</th>
<th>Couleur</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>success</code></td>
<td><code>fr-badge--success</code></td>
<td>Vert</td>
<td>Validé, conforme, actif</td>
</tr>
<tr>
<td><code>warning</code></td>
<td><code>fr-badge--warning</code></td>
<td>Orange</td>
<td>Brouillon, en cours</td>
</tr>
<tr>
<td><code>error</code></td>
<td><code>fr-badge--error</code></td>
<td>Rouge</td>
<td>Bloqué, non conforme</td>
</tr>
<tr>
<td><code>info</code></td>
<td><code>fr-badge--info</code></td>
<td>Bleu</td>
<td>Informatif, en cours</td>
</tr>
</tbody>
</table>
<h3 id="exemple-1-badge-dans-tableau-docssynthesemd">Exemple 1 : Badge dans tableau (docs/synthese.md)</h3>
<pre><code class="language-html">&lt;td&gt;
    &lt;p class="fr-badge fr-badge--success"&gt;Validé&lt;/p&gt;
&lt;/td&gt;
</code></pre>
<h3 id="exemple-2-badge-warning">Exemple 2 : Badge warning</h3>
<pre><code class="language-html">&lt;p class="fr-badge fr-badge--warning"&gt;Brouillon&lt;/p&gt;
</code></pre>
<h3 id="exemple-3-badge-error">Exemple 3 : Badge error</h3>
<pre><code class="language-html">&lt;p class="fr-badge fr-badge--error"&gt;Non renseigné&lt;/p&gt;
</code></pre>
<h3 id="exemple-4-badge-info">Exemple 4 : Badge info</h3>
<pre><code class="language-html">&lt;p class="fr-badge fr-badge--info"&gt;En cours&lt;/p&gt;
</code></pre>
<h3 id="generation-dynamique-scriptscalculate_scorespy42-66">Génération dynamique (scripts/calculate_scores.py:42-66)</h3>
<pre><code class="language-python">def generate_status_badge(checked: int, total: int) -&gt; str:
    """Génère badge HTML DSFR selon score."""
    if total == 0:
        return '&lt;p class="fr-badge fr-badge--error"&gt;Non renseigné&lt;/p&gt;'
    elif checked == total:
        return '&lt;p class="fr-badge fr-badge--success"&gt;Conforme&lt;/p&gt;'
    elif checked &gt; 0:
        return '&lt;p class="fr-badge fr-badge--info"&gt;En cours&lt;/p&gt;'
    else:
        return '&lt;p class="fr-badge fr-badge--warning"&gt;À démarrer&lt;/p&gt;'
</code></pre>
<h3 id="badges-dans-cards-syntaxe-markdown">Badges dans Cards (syntaxe Markdown)</h3>
<p>Dans les cards, utiliser la syntaxe Markdown simplifiée :</p>
<pre><code class="language-markdown">/// card | Titre
    badge: Validé | success
///
</code></pre>
<p>Le type <code>success</code>, <code>warning</code>, <code>error</code>, <code>info</code> sera converti en classe CSS <code>fr-badge--{type}</code>.</p>
<hr/>
<h2 id="alerts-notifications">Alerts - Notifications</h2>
<p>Les alerts DSFR sont des notifications système pour informer l'utilisateur.</p>
<h3 id="syntaxe-de-base_2">Syntaxe de base</h3>
<pre><code class="language-markdown">/// alert | Titre de l'alerte
    type: info
Contenu de l'alerte en Markdown
///
</code></pre>
<h3 id="types-disponibles">Types disponibles</h3>
<table>
<thead>
<tr>
<th>Type</th>
<th>Couleur</th>
<th>Icône</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>info</code></td>
<td>Bleu</td>
<td>ℹ️</td>
<td>Information générale</td>
</tr>
<tr>
<td><code>warning</code></td>
<td>Orange</td>
<td>⚠️</td>
<td>Avertissement</td>
</tr>
<tr>
<td><code>error</code></td>
<td>Rouge</td>
<td>❌</td>
<td>Erreur, action requise</td>
</tr>
<tr>
<td><code>success</code></td>
<td>Vert</td>
<td>✅</td>
<td>Succès, confirmation</td>
</tr>
</tbody>
</table>
<h3 id="exemple-1-alert-info">Exemple 1 : Alert info</h3>
<pre><code class="language-markdown">/// alert | Information
    type: info
Le site est accessible en mode prévisualisation pendant les travaux.
///
</code></pre>
<h3 id="exemple-2-alert-warning">Exemple 2 : Alert warning</h3>
<pre><code class="language-markdown">/// alert | Attention
    type: warning
Cette page sera archivée le 31 décembre 2025. Consultez la nouvelle version.
///
</code></pre>
<h3 id="exemple-3-alert-error">Exemple 3 : Alert error</h3>
<pre><code class="language-markdown">/// alert | Erreur de configuration
    type: error
Le fichier `mkdocs.yml` contient des erreurs. Corrigez-les avant de continuer.
///
</code></pre>
<h3 id="exemple-4-alert-success">Exemple 4 : Alert success</h3>
<pre><code class="language-markdown">/// alert | Validation réussie
    type: success
Votre SPAN a été validé par le comité de pilotage. Publication prévue le 15/11/2025.
///
</code></pre>
<h3 id="alert-vs-callout-quand-utiliser-quoi">Alert vs Callout : Quand utiliser quoi ?</h3>
<table>
<thead>
<tr>
<th>Critère</th>
<th>Alert</th>
<th>Callout</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>Nature</strong></td>
<td>Message système</td>
<td>Contenu éditorial</td>
</tr>
<tr>
<td><strong>Durée</strong></td>
<td>Temporaire</td>
<td>Permanent</td>
</tr>
<tr>
<td><strong>Style</strong></td>
<td>Types fixes</td>
<td>Personnalisable</td>
</tr>
<tr>
<td><strong>Exemple</strong></td>
<td>"Maintenance en cours"</td>
<td>"Financement FIPHFP disponible"</td>
</tr>
</tbody>
</table>
<hr/>
<h2 id="grid-grilles-responsives">Grid - Grilles responsives</h2>
<p>Le système de grille DSFR permet de créer des layouts responsives sur 12 colonnes.</p>
<h3 id="syntaxe-de-base_3">Syntaxe de base</h3>
<pre><code class="language-markdown">/// row | fr-grid-row--gutters
/// col | 12 md-6 lg-4
Contenu colonne 1
///
/// col | 12 md-6 lg-4
Contenu colonne 2
///
/// col | 12 md-6 lg-4
Contenu colonne 3
///
///
</code></pre>
<h3 id="structure">Structure</h3>
<ol>
<li><strong>Ligne</strong> : <code>/// row | fr-grid-row--gutters</code></li>
<li><strong>Colonnes</strong> : <code>/// col | breakpoints</code></li>
<li><strong>Fermeture</strong> : Trois <code>///</code> pour fermer row</li>
</ol>
<h3 id="breakpoints">Breakpoints</h3>
<table>
<thead>
<tr>
<th>Classe</th>
<th>Résolution</th>
<th>Colonnes</th>
<th>Usage</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>12</code></td>
<td>Mobile (&lt;768px)</td>
<td>12/12 (pleine largeur)</td>
<td>Défaut</td>
</tr>
<tr>
<td><code>md-6</code></td>
<td>Tablette (≥768px)</td>
<td>6/12 (2 colonnes)</td>
<td>Medium</td>
</tr>
<tr>
<td><code>lg-4</code></td>
<td>Desktop (≥1024px)</td>
<td>4/12 (3 colonnes)</td>
<td>Large</td>
</tr>
</tbody>
</table>
<h3 id="exemple-complet-grille-3-colonnes-docsindexmd123-167">Exemple complet : Grille 3 colonnes (docs/index.md:123-167)</h3>
<pre><code class="language-markdown">/// row | fr-grid-row--gutters
/// col | 12 md-6 lg-4
/// card | SIRCOM
    target: modules/sircom.md
    badge: Validé | success
Service de la Communication
///
///
/// col | 12 md-6 lg-4
/// card | SNUM
    target: modules/snum.md
    badge: Brouillon | warning
Service du Numérique
///
///
/// col | 12 md-6 lg-4
/// card | SRH
    target: modules/srh.md
    badge: Brouillon | warning
Service des Ressources Humaines
///
///
///
</code></pre>
<h3 id="rendu-responsive">Rendu responsive</h3>
<ul>
<li><strong>Mobile</strong> : 3 cards empilées verticalement (12/12)</li>
<li><strong>Tablette</strong> : 2 cards par ligne (6/12 + 6/12)</li>
<li><strong>Desktop</strong> : 3 cards par ligne (4/12 + 4/12 + 4/12)</li>
</ul>
<h3 id="variantes-de-row">Variantes de row</h3>
<table>
<thead>
<tr>
<th>Classe</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>fr-grid-row</code></td>
<td>Grille sans espacement</td>
</tr>
<tr>
<td><code>fr-grid-row--gutters</code></td>
<td>Grille avec gouttières (recommandé)</td>
</tr>
<tr>
<td><code>fr-grid-row--center</code></td>
<td>Alignement centré</td>
</tr>
<tr>
<td><code>fr-grid-row--middle</code></td>
<td>Alignement vertical milieu</td>
</tr>
</tbody>
</table>
<h3 id="exemple-2-grille-2-colonnes">Exemple 2 : Grille 2 colonnes</h3>
<pre><code class="language-markdown">/// row | fr-grid-row--gutters
/// col | 12 md-6
Colonne gauche (50% tablette+)
///
/// col | 12 md-6
Colonne droite (50% tablette+)
///
///
</code></pre>
<h3 id="exemple-3-grille-4-colonnes-desktop">Exemple 3 : Grille 4 colonnes desktop</h3>
<pre><code class="language-markdown">/// row | fr-grid-row--gutters
/// col | 12 sm-6 lg-3
Colonne 1 (25% desktop)
///
/// col | 12 sm-6 lg-3
Colonne 2 (25% desktop)
///
/// col | 12 sm-6 lg-3
Colonne 3 (25% desktop)
///
/// col | 12 sm-6 lg-3
Colonne 4 (25% desktop)
///
///
</code></pre>
<hr/>
<h2 id="tables-tableaux-accessibles">Tables - Tableaux accessibles</h2>
<p>Le projet utilise un hook Python pour rendre automatiquement les tableaux Markdown accessibles RGAA.</p>
<h3 id="hook-automatique-hooksdsfr_table_wrapperpy">Hook automatique (hooks/dsfr_table_wrapper.py)</h3>
<pre><code class="language-python">def on_page_content(html, page, **kwargs):
    """Encapsule les tableaux Markdown dans divs DSFR."""
    return wrap_tables_dsfr(html)
</code></pre>
<p>Transforme :</p>
<pre><code class="language-html">&lt;table&gt;...&lt;/table&gt;
</code></pre>
<p>En :</p>
<pre><code class="language-html">&lt;div class="fr-table fr-table--bordered"&gt;
  &lt;div class="fr-table__wrapper"&gt;
    &lt;div class="fr-table__container"&gt;
      &lt;div class="fr-table__content"&gt;
        &lt;table&gt;...&lt;/table&gt;
      &lt;/div&gt;
    &lt;/div&gt;
  &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<h3 id="syntaxe-markdown-standard">Syntaxe Markdown standard</h3>
<pre><code class="language-markdown">| Colonne 1 | Colonne 2 | Colonne 3 |
|-----------|-----------|-----------|
| Ligne 1   | Donnée 1  | Donnée 2  |
| Ligne 2   | Donnée 3  | Donnée 4  |
</code></pre>
<p>Le wrapper DSFR est ajouté automatiquement par le hook.</p>
<h3 id="caption-rgaa-obligatoire">Caption RGAA (obligatoire)</h3>
<p>Pour les tableaux de données, ajouter un caption HTML :</p>
<pre><code class="language-html">&lt;table id="table-span-modules"&gt;
    &lt;caption&gt;
        Synthèse des modules SPAN par service
    &lt;/caption&gt;
    &lt;thead&gt;
        ...
    &lt;/thead&gt;
&lt;/table&gt;
</code></pre>
<h3 id="tableaux-avec-badges-html-docssynthesemd">Tableaux avec badges HTML (docs/synthese.md)</h3>
<pre><code class="language-html">&lt;div class="fr-table fr-table--bordered" id="table-synthese-span"&gt;
    &lt;div class="fr-table__wrapper"&gt;
        &lt;div class="fr-table__container"&gt;
            &lt;div class="fr-table__content"&gt;
                &lt;table id="table-span-modules"&gt;
                    &lt;caption&gt;
                        Synthèse des modules SPAN par service
                    &lt;/caption&gt;
                    &lt;thead&gt;
                        &lt;tr&gt;
                            &lt;th scope="col"&gt;Service&lt;/th&gt;
                            &lt;th scope="col"&gt;Score&lt;/th&gt;
                            &lt;th scope="col"&gt;Statut&lt;/th&gt;
                        &lt;/tr&gt;
                    &lt;/thead&gt;
                    &lt;tbody&gt;
                        &lt;tr id="table-span-row-sircom"&gt;
                            &lt;td&gt;SIRCOM&lt;/td&gt;
                            &lt;td&gt;24/33 (72.7%)&lt;/td&gt;
                            &lt;td&gt;
                                &lt;p class="fr-badge fr-badge--success"&gt;Validé&lt;/p&gt;
                            &lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/tbody&gt;
                &lt;/table&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<h3 id="attributs-rgaa-obligatoires">Attributs RGAA obligatoires</h3>
<table>
<thead>
<tr>
<th>Attribut</th>
<th>Élément</th>
<th>Valeur</th>
<th>Obligatoire</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>id</code></td>
<td><code>&lt;table&gt;</code></td>
<td>Unique</td>
<td>Oui</td>
</tr>
<tr>
<td><code>scope</code></td>
<td><code>&lt;th&gt;</code></td>
<td><code>col</code> ou <code>row</code></td>
<td>Oui</td>
</tr>
<tr>
<td><code>&lt;caption&gt;</code></td>
<td>Dans <code>&lt;table&gt;</code></td>
<td>Texte descriptif</td>
<td>Oui (tableaux données)</td>
</tr>
</tbody>
</table>
<h3 id="responsive-dsfr">Responsive DSFR</h3>
<p>Le wrapper DSFR rend le tableau scrollable horizontalement sur mobile si nécessaire.</p>
<hr/>
<h2 id="snippets-reutilisables">Snippets réutilisables</h2>
<p>Bibliothèque de composants DSFR prêts à l'emploi.</p>
<h3 id="card-module-standard">Card module standard</h3>
<pre><code class="language-markdown">/// card | [NOM_SERVICE]
    target: modules/[service].md
    badge: Brouillon | warning
[Description du service]
///
</code></pre>
<h3 id="callout-aide-generique">Callout aide générique</h3>
<pre><code class="language-markdown">/// callout | Besoin d'aide ?
    icon: question-line
    color: blue-france
    link_label: Contacter le support
    link_url: mailto:support@example.com
Pour toute question sur ce contenu, contactez notre équipe support.
///
</code></pre>
<h3 id="callout-avertissement">Callout avertissement</h3>
<pre><code class="language-markdown">/// callout | Attention
    icon: alert-line
    color: orange-terre-battue
Cette information est critique pour la conformité de votre service.
///
</code></pre>
<h3 id="callout-financement">Callout financement</h3>
<pre><code class="language-markdown">/// callout | Financement disponible
    icon: money-euro-circle-line
    color: green-menthe
    link_label: Demander un financement
    link_url: https://fiphfp.fr/
Des aides financières sont disponibles pour vos actions d'accessibilité.
///
</code></pre>
<h3 id="alert-maintenance">Alert maintenance</h3>
<pre><code class="language-markdown">/// alert | Maintenance programmée
    type: warning
Le site sera indisponible le [DATE] de [HEURE] à [HEURE] pour maintenance.
///
</code></pre>
<h3 id="alert-succes-validation">Alert succès validation</h3>
<pre><code class="language-markdown">/// alert | Validation réussie
    type: success
Votre module a été validé par le comité de pilotage.
///
</code></pre>
<h3 id="badge-inline-personnalise">Badge inline personnalisé</h3>
<pre><code class="language-html">&lt;p class="fr-badge fr-badge--info"&gt;Nouveau&lt;/p&gt;
</code></pre>
<h3 id="grille-3-cards-template">Grille 3 cards template</h3>
<pre><code class="language-markdown">/// row | fr-grid-row--gutters
/// col | 12 md-6 lg-4
/// card | Card 1
    target: page1.md
    badge: Type | success
Description card 1
///
///
/// col | 12 md-6 lg-4
/// card | Card 2
    target: page2.md
    badge: Type | warning
Description card 2
///
///
/// col | 12 md-6 lg-4
/// card | Card 3
    target: page3.md
    badge: Type | error
Description card 3
///
///
///
</code></pre>
<h3 id="tableau-scores-template">Tableau scores template</h3>
<pre><code class="language-html">&lt;div class="fr-table fr-table--bordered"&gt;
    &lt;div class="fr-table__wrapper"&gt;
        &lt;div class="fr-table__container"&gt;
            &lt;div class="fr-table__content"&gt;
                &lt;table&gt;
                    &lt;caption&gt;Titre du tableau&lt;/caption&gt;
                    &lt;thead&gt;
                        &lt;tr&gt;
                            &lt;th scope="col"&gt;Colonne 1&lt;/th&gt;
                            &lt;th scope="col"&gt;Colonne 2&lt;/th&gt;
                        &lt;/tr&gt;
                    &lt;/thead&gt;
                    &lt;tbody&gt;
                        &lt;tr&gt;
                            &lt;td&gt;Donnée 1&lt;/td&gt;
                            &lt;td&gt;
                                &lt;p class="fr-badge fr-badge--success"&gt;Badge&lt;/p&gt;
                            &lt;/td&gt;
                        &lt;/tr&gt;
                    &lt;/tbody&gt;
                &lt;/table&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
</code></pre>
<hr/>
<h2 id="accordions-accordeons-pliables">Accordions - Accordéons pliables</h2>
<p>Les accordéons permettent de masquer/afficher du contenu de manière interactive. Idéal pour FAQ, sections longues ou documentation technique.</p>
<h3 id="syntaxe-de-base_4">Syntaxe de base</h3>
<pre><code class="language-markdown">/// accordion | Titre de l'accordéon
Contenu masqué par défaut
///
</code></pre>
<h3 id="parametres-disponibles">Paramètres disponibles</h3>
<table>
<thead>
<tr>
<th>Paramètre</th>
<th>Description</th>
<th>Valeurs</th>
<th>Défaut</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>title</code></td>
<td>Titre de l'accordéon</td>
<td>Texte</td>
<td>Requis</td>
</tr>
<tr>
<td><code>expanded</code></td>
<td>État initial</td>
<td><code>true</code>/<code>false</code></td>
<td><code>false</code></td>
</tr>
<tr>
<td><code>id</code></td>
<td>ID HTML unique</td>
<td>string</td>
<td>auto</td>
</tr>
</tbody>
</table>
<h3 id="exemple-1-faq-simple">Exemple 1 : FAQ simple</h3>
<pre><code class="language-markdown">/// accordion | Comment contribuer au projet ?
Consultez le [Guide contributeur](../contributing.md) pour les instructions détaillées.

Processus en 3 étapes :
1. Fork du dépôt
2. Créer une branche feature
3. Ouvrir une Pull Request
///

/// accordion | Où trouver la documentation API ?
    expanded: true
La documentation complète est disponible dans [API Reference](api-reference.md).
///
</code></pre>
<h3 id="exemple-2-documentation-technique-pliable">Exemple 2 : Documentation technique pliable</h3>
<pre><code class="language-markdown">/// accordion | Détails techniques du hook dsfr_table_wrapper.py
**Fonction** : Encapsule automatiquement les tableaux Markdown dans `&lt;div class="fr-table"&gt;`.

**Code source** :
```python
def on_page_content(html, page, config, files):
    soup = BeautifulSoup(html, 'html.parser')
    for table in soup.find_all('table'):
        wrapper = soup.new_tag('div', **{'class': 'fr-table'})
        table.wrap(wrapper)
    return str(soup)
</code></pre>
<p><strong>Tests</strong> : Voir <code>tests/test_hooks_dsfr_table_wrapper.py</code> (100% coverage).
///</p>
<pre><code>
### Exemple 3 : Sections multiples (groupe)

```markdown
/// accordion | SIRCOM - Service de la Communication
**Score** : 24/33 (72.7%)
**Référent** : Équipe Communication

Plan d'action 2025 : 9 actions en cours.
///

/// accordion | SNUM - Service du Numérique
**Score** : 21/33 (63.6%)
**Référent** : Chef de mission numérique

Plan d'action 2025 : 12 actions prioritaires.
///
</code></pre>
<h3 id="difference-avec-collapsible-divs">Différence avec Collapsible divs</h3>
<ul>
<li><strong>Accordions</strong> : Syntaxe markdown, intégration native mkdocs-dsfr</li>
<li><strong>Collapsible HTML</strong> : <code>&lt;details&gt;&lt;summary&gt;</code> HTML natif</li>
</ul>
<p>Privilégier les accordions pour cohérence DSFR.</p>
<h3 id="accessibilite">Accessibilité</h3>
<p>Les accordions génèrent automatiquement :
- <code>role="button"</code> sur le titre
- <code>aria-expanded="true/false"</code> selon l'état
- Navigation clavier (Entrée/Espace pour toggle)</p>
<hr/>
<h2 id="tabs-onglets">Tabs - Onglets</h2>
<p>Les onglets permettent d'organiser du contenu alternatif (exemples multi-langages, configurations alternatives).</p>
<h3 id="syntaxe-de-base_5">Syntaxe de base</h3>
<pre><code class="language-markdown">/// tabs
/// tab | Python
```python
print("Hello SPAN")
</code></pre>
<p>///</p>
<p>/// tab | Bash</p>
<pre><code class="language-bash">echo "Hello SPAN"
</code></pre>
<p>///
///</p>
<pre><code>
### Exemple 1 : Exemples multi-langages

```markdown
/// tabs
/// tab | Python
```python
import yaml

with open('mkdocs-dsfr.yml') as f:
    config = yaml.safe_load(f)
    print(config['site_name'])
</code></pre>
<p>///</p>
<p>/// tab | JavaScript</p>
<pre><code class="language-javascript">const fs = require('fs');
const yaml = require('js-yaml');

const config = yaml.load(fs.readFileSync('mkdocs-dsfr.yml', 'utf8'));
console.log(config.site_name);
</code></pre>
<p>///</p>
<p>/// tab | Bash</p>
<pre><code class="language-bash">grep "^site_name:" mkdocs-dsfr.yml | cut -d: -f2
</code></pre>
<p>///
///</p>
<pre><code>
### Exemple 2 : Configurations alternatives

```markdown
/// tabs
/// tab | Docker (Recommandé)
```bash
docker compose -f docker-compose-dsfr.yml up -d
# Accès : http://localhost:8000/span-sg-repo/
</code></pre>
<p><strong>Avantages</strong> : Isolation, pas de dépendances locales.
///</p>
<p>/// tab | Python local</p>
<pre><code class="language-bash">pip install -r requirements-dsfr.txt
mkdocs serve --config-file mkdocs-dsfr.yml
</code></pre>
<p><strong>Prérequis</strong> : Python 3.11+, pip.
///</p>
<p>/// tab | macOS Homebrew</p>
<pre><code class="language-bash">brew install mkdocs
pip3 install mkdocs-dsfr
mkdocs serve --config-file mkdocs-dsfr.yml
</code></pre>
<p><strong>Note</strong> : Utiliser Python 3 de Homebrew.
///
///</p>
<pre><code>
### Exemple 3 : Workflows Git

```markdown
/// tabs
/// tab | Feature (nouveau module)
```bash
git checkout -b feature/update-sircom
# Modifications dans docs/modules/sircom.md
git add docs/modules/sircom.md
git commit -m "feat(sircom): mise à jour plan 2025"
git push -u origin feature/update-sircom
# Créer PR vers draft
</code></pre>
<p>///</p>
<p>/// tab | Hotfix (production)</p>
<pre><code class="language-bash">git checkout -b hotfix/fix-typo-synthese
# Corrections dans docs/synthese.md
git add docs/synthese.md
git commit -m "fix(synthese): correction typo tableau"
git push -u origin hotfix/fix-typo-synthese
# Créer PR vers main
</code></pre>
<p>///</p>
<p>/// tab | Sync draft → main</p>
<pre><code class="language-bash">git checkout main
git pull origin main
git merge draft --no-ff
git push origin main
# Déclenche déploiement production
</code></pre>
<p>///
///
```</p>
<h3 id="parametres-tabs">Paramètres tabs</h3>
<table>
<thead>
<tr>
<th>Paramètre</th>
<th>Description</th>
<th>Valeurs</th>
</tr>
</thead>
<tbody>
<tr>
<td>Tabs parent</td>
<td>Conteneur principal</td>
<td><code>/// tabs</code> ... <code>///</code></td>
</tr>
<tr>
<td>Tab enfant</td>
<td>Onglet individuel</td>
<td><code>/// tab \| Titre</code></td>
</tr>
<tr>
<td>Titre</td>
<td>Label de l'onglet</td>
<td>Texte (requis)</td>
</tr>
</tbody>
</table>
<h3 id="accessibilite_1">Accessibilité</h3>
<p>Les onglets génèrent automatiquement :
- <code>role="tablist"</code> sur le conteneur
- <code>role="tab"</code> sur chaque onglet
- <code>aria-selected="true/false"</code> selon l'onglet actif
- Navigation clavier (flèches gauche/droite)</p>
<h3 id="cas-dusage-recommandes">Cas d'usage recommandés</h3>
<ul>
<li>Exemples de code multi-langages</li>
<li>Instructions alternatives (Docker vs local)</li>
<li>Workflows Git différents (feature vs hotfix)</li>
<li>Configurations environnements (dev, staging, prod)</li>
</ul>
<hr/>
<h2 id="references-complementaires">Références complémentaires</h2>
<ul>
<li><strong>ADR-001</strong> : <a href="../../adr/001-choix-theme-dsfr/">Choix thème DSFR</a></li>
<li><strong>ADR-002</strong> : <a href="../../adr/002-format-synthese-html/">Format synthèse HTML</a> - Pourquoi HTML badges</li>
<li><strong>ADR-004</strong> : <a href="../../adr/004-hooks-python-mkdocs/">Hooks Python</a> - Table wrapper</li>
<li><strong>API Reference</strong> : <a href="../api-reference/">Scripts Python</a> - Génération badges dynamiques</li>
</ul>
<hr/>
<p><strong>Note finale</strong> : Ce guide est maintenu à jour avec chaque nouvelle utilisation de composant DSFR dans le projet. Pour proposer des ajouts, ouvrez une issue ou PR sur GitHub.</p>
</div>
</div><footer>
<hr/>
<div role="contentinfo">
<!-- Copyright etc -->
</div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
</div>
</div>
</section>
</div>
<div aria-label="Versions" class="rst-versions" role="note">
<span class="rst-current-version" data-toggle="rst-current-version">
<span>
<a class="fa fa-github" href="https://github.com/Alexmacapple/span-sg" style="color: #fcfcfc"> GitHub</a>
</span>
</span>
</div>
<script src="../../js/jquery-3.6.0.min.js"></script>
<script>var base_url = "../..";</script>
<script src="../../js/theme_extra.js"></script>
<script src="../../js/theme.js"></script>
<script src="../../search/main.js"></script>
<script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>
</body>
</html>
