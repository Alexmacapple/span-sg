
<!DOCTYPE html>
<html lang="fr" data-fr-scheme="system">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="../../dsfr.min.css">
    <link rel="stylesheet" href="../../utility/utility.min.css">
    <link rel="stylesheet" href="../../css/theme.css">

    <meta name="theme-color" content="#000091">
    <!-- Défini la couleur de thème du navigateur (Safari/Android) -->
    <link rel="apple-touch-icon" href="../../ favicon /apple-touch-icon.png">
    <!-- 180×180 -->
    <link rel="icon" href="../../favicon/favicon.svg" type="image/svg+xml">
    <link rel="shortcut icon" href="../../favicon/favicon.ico">
    <!-- 32×32 -->
    <link rel="manifest" href="../../favicon/manifest.webmanifest" crossorigin="use-credentials">
    <script src="../../js/postprocess.js" defer></script>

    <!-- Modifier les chemins relatifs des favicons en fonction de la structure du projet -->
    <!-- Dans le fichier manifest.webmanifest aussi, modifier les chemins vers les images -->
    

    <title>Architecture C4 - Diagrammes Contexte et Containers</title>
    
    
</head>
<body>
    <div class="fr-skiplinks">
  <nav role="navigation" aria-label="Accès rapide" class="fr-container">
    <ul class="fr-skiplinks__list">
      <li>
        <a class="fr-link" href="#content">Contenu</a>
      </li>
      <li>
        <a class="fr-link" href="#header-navigation">Menu</a>
      </li>
      
      <li>
        <a class="fr-link" href="#search-modal">Recherche</a>
      </li>
      
      <li>
        <a class="fr-link" href="#footer">Pied de page</a>
      </li>
    </ul>
  </nav>
</div>
    <header role="banner" class="fr-header">
    <div class="fr-header__body">
        <div class="fr-container">
            <div class="fr-header__body-row">
                <div class="fr-header__brand fr-enlarge-link">
                    <div class="fr-header__brand-top">
                        <div class="fr-header__logo">
                            <p class="fr-logo" style="">
                                GOUVERNEMENT
                            </p>
                        </div>

                        <div class="fr-header__navbar">
                            
                            <button
                                class="fr-btn--search fr-btn"
                                data-fr-opened="false"
                                aria-controls="modal-541"
                                id="button-542"
                                title="Rechercher"
                            >
                                Rechercher
                            </button>
                            
                            <button
                                class="fr-btn--menu fr-btn"
                                data-fr-opened="false"
                                aria-controls="modal-543"
                                aria-haspopup="menu"
                                id="button-544"
                                title="Menu"
                            >
                                Menu
                            </button>
                        </div>
                    </div>
                    <div class="fr-header__service">
                        <a href="/" title="Retour à l'accueil du site - SPAN SG">
                            <p class="fr-header__service-title">
                                SPAN SG
                            </p>
                        </a>
                        <p class="fr-header__service-tagline">
                            Schéma Pluriannuel d'Accessibilité Numérique - Secrétariat Général
                        </p>
                    </div>
                </div>
                <div class="fr-header__tools">
                    
                    <div class="fr-header__tools-links">
                        <ul class="fr-btns-group">
                            <li>
                                <a
                                    href="https://github.com/Alexmacapple/span-sg/blob/main/docs/architecture/c4-diagrams.md"
                                    target="_blank"
                                    rel="noopener"
                                    class="fr-btn"
                                    >Éditer dans GitHub</a
                                >
                            </li>
                        </ul>
                    </div>
                    
                    <div class="fr-header__search fr-modal" id="search-modal">
                        <div class="fr-container fr-container-lg--fluid">
                            <button
                                class="fr-btn--close fr-btn"
                                aria-controls="modal-541"
                                title="Fermer"
                            >
                                Fermer
                            </button>
                            
                            <form action="../../search.html">
                                <div
                                    class="fr-search-bar"
                                    id="search-540"
                                    role="search"
                                >
                                    <label
                                        class="fr-label"
                                        for="mkdocs-search-query"
                                    >
                                        Rechercher
                                    </label>
                                    <input
                                        class="fr-input search_input search-query ui-autocomplete-input"
                                        placeholder="Rechercher"
                                        type="text"
                                        id="mkdocs-search-query"
                                        name="q"
                                    />
                                    <button
                                        class="fr-btn"
                                        title="Rechercher"
                                        type="submit"
                                    >
                                        Rechercher
                                    </button>
                                </div>
                            </form>
                            
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div
        class="fr-header__menu fr-modal"
        id="modal-543"
        aria-labelledby="button-544"
    >
        <div class="fr-container">
            <button
                class="fr-btn--close fr-btn"
                aria-controls="modal-543"
                title="Fermer"
            >
                Fermer
            </button>
            <div class="fr-header__menu-links"></div>
            <nav
    class="fr-nav navbar-header"
    id="header-navigation"
    role="navigation"
    aria-label="Menu principal"
>
    <ul class="fr-nav__list">
         
        <li class="fr-nav__item">
            <a
                class="fr-nav__link"
                href="../.."
                target="_self"
                
                >SPAN (SG)</a
            >
        </li>
          
        <li class="fr-nav__item">
            <button
                class="fr-nav__btn"
                aria-expanded="false"
                aria-controls="menu-7762"
                
            >
                SPAN par service du SG
            </button>
            <div class="fr-collapse fr-menu" id="menu-7762">
                <ul class="fr-menu__list">
                    
                    <li>
                        <a
                            class="fr-nav__link"
                            
                            href="../../modules/bgs/"
                            target="_self"
                            >BGS</a
                        >
                    </li>
                    
                    <li>
                        <a
                            class="fr-nav__link"
                            
                            href="../../modules/safi/"
                            target="_self"
                            >SAFI</a
                        >
                    </li>
                    
                    <li>
                        <a
                            class="fr-nav__link"
                            
                            href="../../modules/siep/"
                            target="_self"
                            >SIEP</a
                        >
                    </li>
                    
                    <li>
                        <a
                            class="fr-nav__link"
                            
                            href="../../modules/sircom/"
                            target="_self"
                            >SIRCOM</a
                        >
                    </li>
                    
                    <li>
                        <a
                            class="fr-nav__link"
                            
                            href="../../modules/snum/"
                            target="_self"
                            >SNUM</a
                        >
                    </li>
                    
                    <li>
                        <a
                            class="fr-nav__link"
                            
                            href="../../modules/srh/"
                            target="_self"
                            >SRH</a
                        >
                    </li>
                    
                </ul>
            </div>
        </li>
          
        <li class="fr-nav__item">
            <a
                class="fr-nav__link"
                href="../../mise-en-application-circulaire/"
                target="_self"
                
                >Contexte réglementaire</a
            >
        </li>
          
        <li class="fr-nav__item">
            <a
                class="fr-nav__link"
                href="../../processus/"
                target="_self"
                
                >Processus</a
            >
        </li>
          
        <li class="fr-nav__item">
            <a
                class="fr-nav__link"
                href="../../accompagnement/"
                target="_self"
                
                >Guide d'accompagnement</a
            >
        </li>
          
        <li class="fr-nav__item">
            <a
                class="fr-nav__link"
                href="../../synthese/"
                target="_self"
                
                >Synthèse</a
            >
        </li>
         
    </ul>
</nav>
        </div>
    </div>
</header>
    <main id="content" role="main">
        
        <div class="fr-container markdown-content">
            <div class="fr-grid-row">
                
                
                    
                

                
                    
<div class="fr-col-12 fr-col-md-3 fr-py-1v">
    <nav
        class="fr-sidemenu fr-sidemenu--sticky-full-height fr-mb-0-5v"
        role="navigation"
        aria-label="Menu latéral"
    >
        
        <div class="fr-sidemenu__inner">
            <button
                class="fr-sidemenu__btn"
                aria-controls="fr-sidemenu-wrapper"
                aria-expanded="true"
            >
                Architecture C4 - Diagrammes Contexte et Containers
            </button>
            <div class="fr-collapse" id="fr-sidemenu-wrapper">
                <div class="fr-sidemenu__title">Architecture C4 - Diagrammes Contexte et Containers</div>
                <ul class="fr-sidemenu__list">
                     
                    <li class="fr-sidemenu__item">
                        <a
                            class="fr-sidemenu__link"
                            href="#introduction-c4"
                            target="_self"
                            >Introduction C4</a
                        >
                    </li>
                      
                    <li class="fr-sidemenu__item">
                        <a
                            class="fr-sidemenu__link"
                            href="#1-c4-level-1-diagramme-de-contexte"
                            target="_self"
                            >1. C4 Level 1 : Diagramme de Contexte</a
                        >
                    </li>
                      
                    <li class="fr-sidemenu__item">
                        <a
                            class="fr-sidemenu__link"
                            href="#2-c4-level-2-diagramme-containers"
                            target="_self"
                            >2. C4 Level 2 : Diagramme Containers</a
                        >
                    </li>
                      
                    <li class="fr-sidemenu__item">
                        <a
                            class="fr-sidemenu__link"
                            href="#3-technologies-et-dependances"
                            target="_self"
                            >3. Technologies et Dépendances</a
                        >
                    </li>
                      
                    <li class="fr-sidemenu__item">
                        <a
                            class="fr-sidemenu__link"
                            href="#4-flux-de-donnees"
                            target="_self"
                            >4. Flux de Données</a
                        >
                    </li>
                      
                    <li class="fr-sidemenu__item">
                        <a
                            class="fr-sidemenu__link"
                            href="#5-strategie-de-deploiement"
                            target="_self"
                            >5. Stratégie de Déploiement</a
                        >
                    </li>
                      
                    <li class="fr-sidemenu__item">
                        <a
                            class="fr-sidemenu__link"
                            href="#6-securite-et-qualite"
                            target="_self"
                            >6. Sécurité et Qualité</a
                        >
                    </li>
                      
                    <li class="fr-sidemenu__item">
                        <a
                            class="fr-sidemenu__link"
                            href="#references"
                            target="_self"
                            >Références</a
                        >
                    </li>
                     
                </ul>
            </div>
        </div>
        
    </nav>
</div>

                    
                        <div id="contenu" class="fr-col-12 fr-col-md-9 fr-py-6v">
                    
                

                

                
                        
                        <h1 id="architecture-c4-diagrammes-contexte-et-containers">Architecture C4 - Diagrammes Contexte et Containers</h1>
<p>Représentations architecture C4 (Context, Containers, Components, Code) du projet SPAN SG.</p>
<p>Version: 1.0.1-dsfr
Dernière mise à jour: 2025-10-22
Standard: <a href="https://c4model.com/">C4 Model</a></p>
<hr />
<h2 id="introduction-c4">Introduction C4</h2>
<p>Le modèle C4 décompose l'architecture en 4 niveaux de zoom :</p>
<ol>
<li><strong>Context</strong> : Vue système dans son écosystème (personnes, systèmes externes)</li>
<li><strong>Containers</strong> : Applications, services, bases de données</li>
<li><strong>Components</strong> : Modules logiques internes</li>
<li><strong>Code</strong> : Classes, fonctions (optionnel)</li>
</ol>
<p>Ce document couvre les niveaux 1-2.</p>
<hr />
<h2 id="1-c4-level-1-diagramme-de-contexte">1. C4 Level 1 : Diagramme de Contexte</h2>
<p>Vue macro du système SPAN SG et ses acteurs.</p>
<pre class="mermaid"><code>graph TB
    subgraph "Acteurs"
        CONTRIB[fa:fa-user Contributeur Service&lt;br/&gt;SIRCOM, SNUM, SRH, etc.]
        VALID[fa:fa-user-check Validateur&lt;br/&gt;Bertrand, Alex]
        SPONSOR[fa:fa-user-tie Sponsor&lt;br/&gt;Chef SNUM]
        PUBLIC[fa:fa-users Public&lt;br/&gt;Consultation SPAN]
    end

    subgraph "Système SPAN SG"
        SPAN[fa:fa-file-alt SPAN SG&lt;br/&gt;Documentation Accessibilité&lt;br/&gt;MkDocs + DSFR]
    end

    subgraph "Systèmes Externes"
        GITHUB[fa:fa-github GitHub&lt;br/&gt;Hébergement repo + Pages]
        CI[fa:fa-cog GitHub Actions&lt;br/&gt;CI/CD Pipeline]
        DINUM[fa:fa-landmark DINUM&lt;br/&gt;Référentiel 33 critères]
    end

    CONTRIB --&gt;|Édite modules| SPAN
    VALID --&gt;|Valide PRs| SPAN
    SPONSOR --&gt;|Approuve releases| SPAN
    PUBLIC --&gt;|Consulte| SPAN

    SPAN --&gt;|Versionné sur| GITHUB
    SPAN --&gt;|Validé par| CI
    SPAN --&gt;|Conforme à| DINUM
    GITHUB --&gt;|Déclenche| CI
    CI --&gt;|Déploie sur| GITHUB

    style SPAN fill:#91d5ff,stroke:#1890ff,stroke-width:3px
    style GITHUB fill:#ffc9c9,stroke:#ff4d4f,stroke-width:2px
    style CI fill:#b5f5ec,stroke:#13c2c2,stroke-width:2px
    style DINUM fill:#ffe7ba,stroke:#fa8c16,stroke-width:2px</code></pre>
<p><strong>Acteurs principaux :</strong>
- Contributeurs services (6 modules : SIRCOM, SNUM, SRH, SIEP, SAFI, BGS)
- Validateurs (review PRs, merge)
- Sponsor (validation conceptuelle, releases officielles)
- Public (consultation SPAN publié)</p>
<p><strong>Systèmes externes :</strong>
- GitHub : Hébergement repo + Pages
- GitHub Actions : CI/CD automatisé
- DINUM : Référentiel 33 critères accessibilité</p>
<hr />
<h2 id="2-c4-level-2-diagramme-containers">2. C4 Level 2 : Diagramme Containers</h2>
<p>Détail des composants applicatifs du système SPAN SG.</p>
<pre class="mermaid"><code>graph TB
    subgraph "GitHub Repository"
        direction TB
        REPO[fa:fa-code Repository&lt;br/&gt;span-sg&lt;br/&gt;Git + Markdown]
        BRANCH_MAIN[fa:fa-code-branch main&lt;br/&gt;Production]
        BRANCH_DRAFT[fa:fa-code-branch main&lt;br/&gt;Preview]
    end

    subgraph "CI/CD Pipeline (GitHub Actions)"
        direction TB
        JOB_DRAFT[fa:fa-cog Job: build-deploy-draft&lt;br/&gt;Python 3.11 + MkDocs]
        JOB_MAIN[fa:fa-cog Job: build-deploy-main&lt;br/&gt;Python 3.11 + MkDocs + E2E]
        TESTS[fa:fa-check-circle Tests&lt;br/&gt;Pytest + Coverage 89%+]
        SECURITY[fa:fa-shield-alt Sécurité&lt;br/&gt;Bandit + Safety]
    end

    subgraph "Build Artifacts"
        direction TB
        SITE_HTML[fa:fa-file-code site/&lt;br/&gt;HTML DSFR]
        PDF[fa:fa-file-pdf exports/&lt;br/&gt;span-sg.pdf]
        REPORTS[fa:fa-chart-bar Reports&lt;br/&gt;E2E + Security + Coverage]
    end

    subgraph "Deployment Targets"
        direction TB
        PAGES_DRAFT[fa:fa-globe gh-pages/draft/&lt;br/&gt;Preview privée]
        PAGES_PROD[fa:fa-globe gh-pages/&lt;br/&gt;Production publique]
    end

    subgraph "Build Tools"
        direction TB
        MKDOCS[fa:fa-book MkDocs 1.6&lt;br/&gt;Générateur site statique]
        DSFR[fa:fa-paint-brush mkdocs-dsfr 0.17&lt;br/&gt;Thème DSFR]
        WEASY[fa:fa-file-pdf WeasyPrint&lt;br/&gt;Générateur PDF]
    end

    REPO --&gt; BRANCH_MAIN
    REPO --&gt; BRANCH_DRAFT

    BRANCH_DRAFT --&gt; JOB_DRAFT
    BRANCH_MAIN --&gt; JOB_MAIN

    JOB_DRAFT --&gt; TESTS
    JOB_DRAFT --&gt; SECURITY
    JOB_MAIN --&gt; TESTS
    JOB_MAIN --&gt; SECURITY

    TESTS --&gt; MKDOCS
    SECURITY --&gt; MKDOCS

    MKDOCS --&gt; DSFR
    MKDOCS --&gt; WEASY

    DSFR --&gt; SITE_HTML
    WEASY --&gt; PDF

    JOB_DRAFT --&gt; REPORTS
    JOB_MAIN --&gt; REPORTS

    SITE_HTML --&gt; PAGES_DRAFT
    SITE_HTML --&gt; PAGES_PROD
    PDF --&gt; PAGES_DRAFT
    PDF --&gt; PAGES_PROD

    style REPO fill:#f0f0f0,stroke:#333,stroke-width:2px
    style JOB_DRAFT fill:#b5f5ec,stroke:#13c2c2,stroke-width:2px
    style JOB_MAIN fill:#b5f5ec,stroke:#13c2c2,stroke-width:2px
    style SITE_HTML fill:#91d5ff,stroke:#1890ff,stroke-width:2px
    style PDF fill:#ffc9c9,stroke:#ff4d4f,stroke-width:2px
    style PAGES_PROD fill:#b7eb8f,stroke:#52c41a,stroke-width:3px</code></pre>
<p><strong>Containers identifiés :</strong></p>
<ol>
<li><strong>Repository Git</strong> :</li>
<li>Markdown sources (docs/modules/*.md)</li>
<li>Configurations (mkdocs-dsfr.yml, mkdocs-dsfr-pdf.yml)</li>
<li>Scripts Python (calculate_scores.py, enrich_pdf_metadata.py)</li>
<li>
<p>Hooks MkDocs (dsfr_table_wrapper.py, title_cleaner.py)</p>
</li>
<li>
<p><strong>CI/CD Pipeline</strong> :</p>
</li>
<li>Job draft : Build + déploiement preview</li>
<li>Job main : Build + E2E + sécurité + déploiement production</li>
<li>Tests : Pytest (33 tests unitaires, 9 scénarios E2E)</li>
<li>
<p>Sécurité : Bandit (code security) + Safety (CVE dependencies)</p>
</li>
<li>
<p><strong>Build Artifacts</strong> :</p>
</li>
<li>site/ : HTML DSFR (thème gouvernemental)</li>
<li>exports/span-sg.pdf : PDF avec métadonnées enrichies</li>
<li>
<p>Reports : E2E HTML, Security JSON, Coverage HTML</p>
</li>
<li>
<p><strong>Deployment Targets</strong> :</p>
</li>
<li>gh-pages/draft/ : Preview privée (org-only)</li>
<li>
<p>gh-pages/ racine : Production publique</p>
</li>
<li>
<p><strong>Build Tools</strong> :</p>
</li>
<li>MkDocs 1.6 : Générateur site statique</li>
<li>mkdocs-dsfr 0.17 : Thème DSFR officiel</li>
<li>WeasyPrint : Générateur PDF (CSS Paged Media)</li>
</ol>
<hr />
<h2 id="3-technologies-et-dependances">3. Technologies et Dépendances</h2>
<h3 id="stack-technique">Stack technique</h3>
<div class="fr-table">
<div class="fr-table">
<table>
<thead>
<tr>
<th>Layer</th>
<th>Technologie</th>
<th>Version</th>
<th>Rôle</th>
</tr>
</thead>
<tbody>
<tr>
<td>Source</td>
<td>Markdown + YAML</td>
<td>-</td>
<td>Format documentation</td>
</tr>
<tr>
<td>Build</td>
<td>MkDocs</td>
<td>1.6+</td>
<td>Générateur site statique</td>
</tr>
<tr>
<td>Theme</td>
<td>mkdocs-dsfr</td>
<td>0.17.0</td>
<td>Design System État</td>
</tr>
<tr>
<td>PDF</td>
<td>WeasyPrint</td>
<td>62.3</td>
<td>Générateur PDF</td>
</tr>
<tr>
<td>Tests</td>
<td>Pytest</td>
<td>8.3.4</td>
<td>Tests unitaires + E2E</td>
</tr>
<tr>
<td>CI/CD</td>
<td>GitHub Actions</td>
<td>-</td>
<td>Pipeline automatisé</td>
</tr>
<tr>
<td>Hosting</td>
<td>GitHub Pages</td>
<td>-</td>
<td>Hébergement statique</td>
</tr>
</tbody>
</table>
</div>
</div>
<h3 id="dependances-critiques">Dépendances critiques</h3>
<div class="highlight"><pre><span></span><code><span class="c1"># requirements-dsfr.txt</span>
<span class="n">mkdocs</span><span class="o">==</span><span class="mf">1.6.1</span>
<span class="n">mkdocs</span><span class="o">-</span><span class="n">dsfr</span><span class="o">==</span><span class="mf">0.17.0</span>
<span class="n">mkdocs</span><span class="o">-</span><span class="n">git</span><span class="o">-</span><span class="n">revision</span><span class="o">-</span><span class="n">date</span><span class="o">-</span><span class="n">localized</span><span class="o">-</span><span class="n">plugin</span><span class="o">==</span><span class="mf">1.3.0</span>
<span class="n">pymdown</span><span class="o">-</span><span class="n">extensions</span><span class="o">==</span><span class="mf">10.12</span>
<span class="n">mkdocs</span><span class="o">-</span><span class="n">pdf</span><span class="o">-</span><span class="n">export</span><span class="o">-</span><span class="n">plugin</span><span class="o">==</span><span class="mf">0.5.10</span>
<span class="n">weasyprint</span><span class="o">==</span><span class="mf">62.3</span>
</code></pre></div>
<hr />
<h2 id="4-flux-de-donnees">4. Flux de Données</h2>
<p>Parcours typique d'une modification SPAN :</p>
<pre class="mermaid"><code>sequenceDiagram
    participant C as Contributeur
    participant G as GitHub
    participant CI as GitHub Actions
    participant P as GitHub Pages

    Note over C,G: 1. Contribution
    C-&gt;&gt;G: Push feature/update-sircom
    C-&gt;&gt;G: Create PR main ← feature

    Note over G,CI: 2. CI Validation
    G-&gt;&gt;CI: Trigger workflow (draft)
    CI-&gt;&gt;CI: Linting (Black, Ruff)
    CI-&gt;&gt;CI: Tests (33 unitaires)
    CI-&gt;&gt;CI: Security (Bandit, Safety)
    CI-&gt;&gt;CI: Build HTML DSFR
    CI-&gt;&gt;CI: Generate PDF
    CI-&gt;&gt;G: Status: ✅ Success / ❌ Failed

    Note over C,G: 3. Review
    C-&gt;&gt;G: Request review (Bertrand/Alex)
    G-&gt;&gt;C: Approve + Merge PR

    Note over G,CI: 4. Déploiement
    G-&gt;&gt;CI: Trigger workflow (draft merge)
    CI-&gt;&gt;CI: Run all checks + E2E (si main)
    CI-&gt;&gt;P: Deploy gh-pages/draft/ (ou /)

    Note over C,P: 5. Publication
    P-&gt;&gt;C: Preview visible org-only</code></pre>
<hr />
<h2 id="5-strategie-de-deploiement">5. Stratégie de Déploiement</h2>
<h3 id="environnements">Environnements</h3>
<div class="fr-table">
<div class="fr-table">
<table>
<thead>
<tr>
<th>Environnement</th>
<th>Branche</th>
<th>URL</th>
<th>Accès</th>
<th>Déploiement</th>
</tr>
</thead>
<tbody>
<tr>
<td>Preview</td>
<td>draft</td>
<td>/draft/</td>
<td>Org-only</td>
<td>Auto (push draft)</td>
</tr>
<tr>
<td>Production</td>
<td>main</td>
<td>/ racine</td>
<td>Public</td>
<td>Auto (push main)</td>
</tr>
</tbody>
</table>
</div>
</div>
<h3 id="workflow-deploiement">Workflow déploiement</h3>
<pre class="mermaid"><code>graph LR
    A[Commit main/draft] --&gt; B{Tests pass?}
    B --&gt;|❌ Failed| C[STOP - Fix errors]
    B --&gt;|✅ Success| D[Build HTML + PDF]
    D --&gt; E{Branche?}
    E --&gt;|draft| F[Deploy /draft/]
    E --&gt;|main| G[Run E2E tests]
    G --&gt; H{E2E pass?}
    H --&gt;|❌| I[STOP - Check E2E report]
    H --&gt;|✅| J[Deploy / racine]

    style C fill:#ff6b6b
    style I fill:#ff6b6b
    style F fill:#91d5ff
    style J fill:#b7eb8f</code></pre>
<hr />
<h2 id="6-securite-et-qualite">6. Sécurité et Qualité</h2>
<h3 id="gates-qualite-cicd">Gates qualité CI/CD</h3>
<p>Chaque build passe par 7 gates obligatoires :</p>
<ol>
<li><strong>Black formatter</strong> : Formatage code uniforme</li>
<li><strong>Ruff linter</strong> : Détection bugs, style, complexité</li>
<li><strong>Bandit</strong> : Analyse sécurité code (HIGH/CRITICAL)</li>
<li><strong>Safety</strong> : Scan CVE dependencies</li>
<li><strong>Pytest</strong> : 33 tests unitaires (0 failed)</li>
<li><strong>Coverage</strong> : Seuil 89%+ scripts, 100% hooks</li>
<li><strong>E2E</strong> (main only) : 9 scénarios bout-en-bout</li>
</ol>
<h3 id="artefacts-securite">Artefacts sécurité</h3>
<p>Conservés en GitHub Actions Artifacts :</p>
<ul>
<li><strong>security-reports</strong> : Bandit JSON + Safety JSON (90 jours)</li>
<li><strong>e2e-report</strong> : Rapport HTML scénarios (30 jours)</li>
<li><strong>accessibility-report</strong> : Tests RGAA Selenium (30 jours)</li>
<li><strong>exports</strong> : PDF SPAN (persistant)</li>
</ul>
<hr />
<h2 id="references">Références</h2>
<ul>
<li><a href="https://c4model.com/">C4 Model Official</a></li>
<li><a href="../diagrams/">Diagrammes Mermaid (6 existants)</a></li>
<li><a href="../../adr/">ADR Architecture Decision Records</a></li>
<li><a href="../../dev/api-reference/">API Reference Scripts</a></li>
</ul>
                        
                        
                        <div id="backtop" class="fr-grid-row fr-grid-row--right"></div>
                        
                    </div>
                    <hr />
                    
                </div>
            </div>
            <dialog id="fr-theme-modal" class="fr-modal" role="dialog" aria-labelledby="fr-theme-modal-title">
                <div class="fr-container fr-container--fluid fr-container-md">
                    <div class="fr-grid-row fr-grid-row--center">
                        <div class="fr-col-12 fr-col-md-6 fr-col-lg-4">
                            <div class="fr-modal__body">
                                <div class="fr-modal__header">
                                    <button class="fr-btn--close fr-btn" aria-controls="fr-theme-modal" title="Fermer">
                                        Fermer
                                    </button>
                                </div>
                                <div class="fr-modal__content">
                                    <h1 id="fr-theme-modal-title" class="fr-modal__title">
                                        Paramètres d’affichage </h1>
                                    <div id="fr-display" class="fr-display">
                                        <div class="fr-form-group">
                                            <fieldset class="fr-fieldset">
                                                <legend class="fr-fieldset__legend fr-text--regular" id='-legend'>
                                                    Choisissez un thème pour personnaliser l’apparence du site.
                                                </legend>
                                                <div class="fr-fieldset__content">
                                                    <div class="fr-radio-group fr-radio-rich"><input value="light"
                                                            type="radio" id="fr-radios-theme-light"
                                                            name="fr-radios-theme">
                                                        <label class="fr-label" for="fr-radios-theme-light"> Thème
                                                            clair </label>
                                                        <div class="fr-radio-rich__img">
                                                            <svg xmlns="http://www.w3.org/2000/svg" class="fr-artwork"
                                                                width="80px" height="80px" viewBox="0 0 80 80">
                                                                <use class="fr-artwork-decorative"
                                                                    xlink:href="../../artwork/light.svg#artwork-decorative">
                                                                </use>
                                                                <use class="fr-artwork-minor"
                                                                    xlink:href="../../artwork/light.svg#artwork-minor">
                                                                </use>
                                                                <use class="fr-artwork-major"
                                                                    xlink:href="../../artwork/light.svg#artwork-major">
                                                                </use>
                                                            </svg>
                                                        </div>
                                                    </div>
                                                    <div class="fr-radio-group fr-radio-rich"><input value="dark"
                                                            type="radio" id="fr-radios-theme-dark"
                                                            name="fr-radios-theme">
                                                        <label class="fr-label" for="fr-radios-theme-dark"> Thème
                                                            sombre </label>
                                                        <div class="fr-radio-rich__img">
                                                            <svg xmlns="http://www.w3.org/2000/svg" class="fr-artwork"
                                                                width="80px" height="80px" viewBox="0 0 80 80">
                                                                <use class="fr-artwork-decorative"
                                                                    xlink:href="../../artwork/dark.svg#artwork-decorative">
                                                                </use>
                                                                <use class="fr-artwork-minor"
                                                                    xlink:href="../../artwork/dark.svg#artwork-minor">
                                                                </use>
                                                                <use class="fr-artwork-major"
                                                                    xlink:href="../../artwork/dark.svg#artwork-major">
                                                                </use>
                                                            </svg>
                                                        </div>
                                                    </div>
                                                    <div class="fr-radio-group fr-radio-rich"><input value="system"
                                                            type="radio" id="fr-radios-theme-system"
                                                            name="fr-radios-theme">
                                                        <label class="fr-label" for="fr-radios-theme-system"> Système
                                                            <span class="fr-hint-text">Utilise les paramètres
                                                                système.</span>
                                                        </label>
                                                        <div class="fr-radio-rich__img">
                                                            <svg xmlns="http://www.w3.org/2000/svg" class="fr-artwork"
                                                                width="80px" height="80px" viewBox="0 0 80 80">
                                                                <use class="fr-artwork-decorative"
                                                                    xlink:href="../../artwork/system.svg#artwork-decorative">
                                                                </use>
                                                                <use class="fr-artwork-minor"
                                                                    xlink:href="../../artwork/system.svg#artwork-minor">
                                                                </use>
                                                                <use class="fr-artwork-major"
                                                                    xlink:href="../../artwork/system.svg#artwork-major">
                                                                </use>
                                                            </svg>
                                                        </div>
                                                    </div>
                                                </div>
                                            </fieldset>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </dialog>
    </main>
    <footer class="fr-footer" role="contentinfo" id="footer">
    <div class="fr-container">
        <div class="fr-footer__body">
            <div class="fr-footer__brand fr-enlarge-link">
                <a href="/"
                    title="Retour à l'accueil du site - Nom de l'entité (ministère, secrétariat d'état, gouvernement)">
                    <p class="fr-logo">
                        GOUVERNEMENT
                    </p>
                </a>
            </div>
            <div class="fr-footer__content">
                <p class="fr-footer__content-desc">Schéma Pluriannuel d'Accessibilité Numérique du Secrétariat Général - Ministère de l'Économie des Finances et de la Souveraineté industrielle et énergétique</p>
                <ul class="fr-footer__content-list">
                    
                    
                    <li class="fr-footer__content-item">
                        <a class="fr-footer__content-link" target="_blank" href="https://legifrance.gouv.fr">legifrance.gouv.fr</a>
                    </li>
                    
                    <li class="fr-footer__content-item">
                        <a class="fr-footer__content-link" target="_blank" href="https://service-public.fr">service-public.fr</a>
                    </li>
                    
                    <li class="fr-footer__content-item">
                        <a class="fr-footer__content-link" target="_blank" href="https://data.gouv.fr">data.gouv.fr</a>
                    </li>
                    
                    <li class="fr-footer__content-item">
                        <a class="fr-footer__content-link" target="_blank" href="https://info.gouv.fr">info.gouv.fr</a>
                    </li>
                    
                </ul>
            </div>
        </div>
        <div class="fr-footer__bottom">
            <ul class="fr-footer__bottom-list">
                
                <li class="fr-footer__bottom-item">
                    <button class="fr-footer__bottom-link fr-fi-theme-fill fr-link--icon-left"
                        aria-controls="fr-theme-modal" data-fr-opened="false">Paramètres d'affichage</button>
                </li>
            </ul>
            <div class="fr-footer__bottom-copy">
                <p>Sauf mention contraire, tous les contenus de ce site sont sous <a
                        href="https://github.com/etalab/licence-ouverte/blob/master/LO.md" target="_blank">licence
                        etalab-2.0</a>
                </p>
            </div>
        </div>
    </div>
</footer>

    
<div class="revision-date">
    
    Dernière révision le <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date" title="23 octobre 2025 17:10:31 UTC">23 octobre 2025</span> 
</div>


<script>
    var base_url = "../..";
</script>

<script type="module" src="../../dsfr.module.min.js"></script>
<script
    type="text/javascript"
    nomodule
    src="../../dsfr.nomodule.min.js"
></script>
<script src="../../search/lunr.js"></script>
<script src="../../search/lunr.stemmer.support.js"></script>
<script src="../../search/lunr.fr.js"></script>
<script src="../../assets/extra.js" defer></script>
<script src="../../search/main.js" defer></script>
<script src="../../js/open_in_new_tab.js" defer></script>
</body>

</html>
